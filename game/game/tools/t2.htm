<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>FilesCompare相同檔案搜尋去除工具</title>
</head>
<body>
<pre>
<font face="細明體" size=3><b>名稱</b>：FilesCompare相同檔案搜尋去除工具
<b>位置</b>：自製工具軟體
<b>目的</b>：比對遊戲版本的檔案差異、去除重複下載的圖片或檔案等。
<b>版本</b>：1.22V
<b>說明</b>：

一開始寫這個程式，是因為從網路上下載大量的圖片，有很多是重複的。由於
圖片數量有幾十萬張，不可能一個一個點開比對，於是便寫了這個程式，自動
找出相同內容的檔案加以去除。接著擴展到下載的大量遊戲壓縮檔，把相同的
遊戲檔都給去除掉。

後來在處理非相同的遊戲壓縮檔時，解壓後發現通常都只有少數幾個檔案不同
而已，例如存檔、設定檔等等，有些是少檔、壞檔，有些則是因為版本不同。
為了得知是那些檔案有差異，這個程式便擴展成去除相同的檔案，只留下差異
的檔案。而為得知各檔案的差異所在，則再增加了比對檔案內容的功能。此為
個人在整理遊戲檔正確性與版本差異時的有力幫手。

<font color=blue><b>*** 主畫面</b></font>

<img src="t2-1.png">

1.搜尋目錄：要搜尋相同檔案的目錄。可以有多個，以分號或逗號隔開，列在
  前面的目錄會優先搜尋。
2.副檔名：例如*.txt等帶有萬用字元的檔名比對字串，以進一步篩選要搜尋
  的檔案。可以有多個，以分號或逗號隔開。
3.找到相同檔案時的處理動作（參見後述）。
4.只刪同名檔案：勾選時，只會比對相同檔名的檔案內容。如果是在比對遊戲
  版本的檔案差異，請加以勾選。如果是在找相同的圖片或檔案，則不用勾選。
5.忽略檔尾xx byte資料：某些遊戲在安裝時會將安裝資訊附加在所有檔案的
  後面（例如模擬螞蟻會附加256 byte安裝資訊），無論如何比對，各檔案都
  不相同。此時藉由忽略這些額外附加的資訊，才能真正比對出檔案是否相同。
6.比對同名同大小檔案：如果找到相同檔名、檔案大小相同，而內容不同時，
  是否進行檔案內容的差異比對。通常會在刪除完所有相同檔案後，才會勾選
  此選項進行二次處理（參見後述）。
7.開始搜尋：開始尋找相同內容檔案，視窗最下方會顯示目前搜尋的目錄檔名。
8.停止搜尋：停止目前的搜尋工作。
9.結束：結束離開本程式。
10.比對檔案：直接進入比對檔案對話視窗，進行內容的差異比對（參見後述）。

當搜尋到相同內容檔案時，如果勾選的是詢問，則會出現下列詢問視窗，否則
便會直接刪掉第一個檔案，或是第二個檔案（一律移至資源回收筒）。

<img src="t2-2.png">

按左邊的刪除，會刪掉指定的檔案。其他功能為：

1.略過：忽略這兩個相同內容的檔案不處理。
2.都刪第一檔：不再詢問，之後自動刪除第一個檔案。
3.都刪第二檔：不再詢問，之後自動刪除第二個檔案。
4.結束搜尋：停止目前的搜尋工作。

<font color=blue><b>*** 比對檔案</b></font>

當按下［比對檔案］按鈕，或是勾選比對同名同大小檔案，而系統找到有差異
的同名檔案時，便會出現下列視窗。

<img src="t2-3.png">

1.檔案一：要比對的第一個檔案。
2.檔案二：要比對的第二個檔案。
3.比對位置偏移byte數：某些執行檔會因解壓程式的關係，而造成實際程式碼
  位置有所偏移，可利用此設定進行實際程式的比對。不過通常都不必設定。
4.開始比對：進行內容差異比對（參見後述）。
5.結束比對：離開本視窗，回到主畫面或繼續搜尋工作。
6.中斷搜尋：停止目前的搜尋工作。

開始比對後，會顯示檔案比對結果如下（數值均為16進位Hex）：

<img src="t2-4.png">

左邊8位數字為右邊資料所在的檔案位置，右邊奇數行為檔案一的資料內容，
偶數行為檔案二的資料內容。標示--表示資料相同、沒有異動，否則便會顯示
相異部份的資料內容。
</font>
</pre>
</body>
</html>
